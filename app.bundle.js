!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n,t){},function(e,n,t){"use strict";t.r(n);t(0);function o(e,n,t=""){const o=document.createElement(e);return o.className=n,o.innerHTML=t,o}function r(e){let n=!1;return n=!(e.length<=0),n}function d(e){const n=parseInt(e,10);let t=!1;return t=!(!/^[0-9]+$/.test(e)||n<=0),t}function i(e,n,t){const r=o("div","error-container",`<p>${t}</p>`);n.contains(r)||e.after(r),e.addEventListener("focus",()=>{n.contains(r)&&r.remove()})}function c(){const e=o("div","good-adding-popup"),n=o("form","good-adding-form");n.noValidate=!0;const t=o("div","good-name-field-header","<p>Название</p>"),r=o("input","good-name-field");r.required=!0,n.appendChild(t),n.appendChild(r);const d=o("div","good-price-price-header","<p>Стоимость</p>"),i=o("input","good-price-field");i.required=!0,n.appendChild(d),n.appendChild(i);const c=o("button","good-save-btn btn","Сохранить"),a=o("button","good-reset-btn btn","Отмена");return a.type="reset",n.appendChild(c),n.appendChild(a),e.appendChild(n),e}function a(e){return e.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1 ")}class l{constructor(e,n){this.name=e,this.price=n,this.id=(+new Date).toString(16)}}function p(e,n){const t=o("div","good-card"),l=o("div","good-name",`<p>${e.name}</p>`),p=o("div","good-price",`<p>${e.price}</p>`),u=o("div","good-card-actions-container"),s=o("div","good-edit-btn","<p>&#9998;</p>"),f=o("div","good-remove-btn","<p>&#10006;</p>");return u.appendChild(s),u.appendChild(f),t.appendChild(l),t.appendChild(p),t.appendChild(u),s.addEventListener("click",()=>{const t=document.querySelector("body"),o=c();t.insertBefore(o,t.lastChild);const u=o.querySelector(".good-adding-form"),s=o.querySelector(".good-name-field"),f=o.querySelector(".good-price-field"),v=o.querySelector(".good-reset-btn");s.value=e.name;const g=e.price.replace(/\s+/g,"");f.value=g,u.addEventListener("submit",t=>{t.preventDefault();const c=r(s.value),v=d(f.value);if(c||i(s,u,"Тут нужно написать название товара"),v||i(f,u,"Должна содержать только цифры и быть больше 0"),c&&v){const t=n.indexOf(e);e.name=s.value;const r=a(f.value);e.price=r,n.splice(t,1,e);const d=JSON.stringify(e);localStorage[e.id]=d,l.innerHTML=`<p>${e.name}</p>`,p.innerHTML=`<p>${e.price}</p>`,o.remove()}}),v.addEventListener("click",()=>{o.remove()})}),f.addEventListener("click",()=>{t.remove(),n.splice(n.indexOf(e),1),localStorage.removeItem(e.id)}),t}const u=document.querySelector("body"),s=o("div","main-container"),f=o("div","header-container"),v=o("div","header","<p>Товары</p>"),g=o("div","add-good-btn","<p>+</p>");f.appendChild(v),f.appendChild(g);const m=o("div","goods-container"),h=o("div","goods-container-header","<p>Название</p><p>Стоимость</p><p>Действия</p>");m.appendChild(h),s.appendChild(f),s.appendChild(m),u.insertBefore(s,u.firstChild);const b=function(){const e=[];if(localStorage.length>0)for(let n=0;n<localStorage.length;n+=1){const t=localStorage.key(n),o=localStorage.getItem(t);if("INFO"!==o){const n=JSON.parse(o);e.push(n)}}return e}();b.forEach(e=>{const n=p(e,b);m.appendChild(n)}),g.addEventListener("click",()=>{const e=c(),n=e.querySelector(".good-adding-form"),t=e.querySelector(".good-reset-btn"),o=e.querySelector(".good-name-field"),s=e.querySelector(".good-price-field");u.insertBefore(e,u.lastChild),n.addEventListener("submit",t=>{t.preventDefault();const c=r(o.value),u=d(s.value);if(c||i(o,n,"Тут нужно написать название товара"),u||i(s,n,"Должна содержать только цифры и быть больше 0"),c&&u){const t=a(s.value),r=new l(o.value,t);b.push(r);const d=JSON.stringify(r);localStorage.setItem(r.id,d);const i=p(r,b);m.appendChild(i),n.reset(),e.remove()}}),t.addEventListener("click",()=>{e.remove()})})}]);